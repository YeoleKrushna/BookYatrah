{% extends 'home/base.html' %}
{% load static %}

{% block title %}Your Profile - BookYatrah{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'users/style.css' %}">
{% endblock %}

{% block content %}
<div class="users-login-container fade-in">
    <h2 class="title">Your Profile</h2>

    {% if profile.profile_pic %}
    <div style="text-align: center; margin-bottom: 20px;">
        <img src="{{ profile.profile_pic.url }}" alt="Profile Picture" width="150" style="border-radius: 12px;" />
    </div>
    {% endif %}

    <p><strong>Name:</strong> {{ request.user.first_name }} {{ request.user.last_name }}</p>
    <p><strong>Email:</strong> {{ request.user.email }}</p>
    <p><strong>Phone:</strong> {{ profile.phone }}</p>
    <p><strong>City:</strong> {{ profile.city }}</p>
    <p><strong>Pincode:</strong> {{ profile.pincode }}</p>

    <p><strong>Preferred Genres:</strong>
        {% for genre in profile.preferred_genres.all %}
            {{ genre.name }}{% if not forloop.last %}, {% endif %}
        {% empty %}
            No genres selected
        {% endfor %}
    </p>

    <div style="margin-top: 20px;">
        <a href="{% url 'users:profile' %}" class="btn">Edit Profile</a>
        <a href="{% url 'users:logout' %}" class="btn logout-btn" style="margin-left: 10px;">Logout</a>
    </div>
</div>
{% endblock %}
